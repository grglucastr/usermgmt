{% extends 'base.html.twig' %}

{% block title %}Users {% endblock %}

{% block body %}
<div class="row">
	<div class="col-sm-12 col-md-4">
		<h4 class="mt-4">Users List ({{ users|length }}) 
    		<a href="/users/add" class="btn btn-primary mt-1">
    			Add User
    		</a>
		</h4>
	</div>
</div>

<div class="row">
	<div class="col-sm-12 col-md-5">
	 	<table class="table table-striped">
	 		<thead>
	 			<th>Username</th>
	 			<th>Groups</th>
	 			<th></th>
	 			<th></th>
	 			<th></th>
	 		</thead>
	 		
	 		<tbody>
	 			{% for user in users %}
	 			<tr>
	 				<td>{{ user.username }}</td>
	 				<td class="text-center">{{ user.ugroups|length }}</td>
	 				<td><a href="/users/{{ user.id }}/groups">Manage Groups</a></td>
	 				<td><a href="/users/{{ user.id }}/edit">Edit</a></td>
	 				<td><a href="#" class="delete" data-id={{ user.id }}>Delete</a></td>
	 			</tr>
	 			{% endfor %}
	 		</tbody>
			
		</table>
	</div>
</div>

{% endblock %}

{% block javascripts %}
{{ parent() }}

<script src="{{ asset('js/users.js') }}"></script>

{% endblock %}